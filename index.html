<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>অনুশীলন Corona-Dashboard </title>
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon.png">
    <!-- Custom Stylesheet -->

    <link href="css/jquery.jConveyorTicker.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

    <div id="preloader">
        <div class="sk-three-bounce">
            <div class="sk-child sk-bounce1"></div>
            <div class="sk-child sk-bounce2"></div>
            <div class="sk-child sk-bounce3"></div>
        </div>
    </div>

    <div id="main-wrapper">

        <div class="header">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-xl-12">
                        <nav class="navbar navbar-expand-lg navbar-light">
                            <a class="navbar-brand" href="index.html"><img src="images/favicon.png" alt="">
                                <span>অনুশীলন: Corona-Dashboard</span></a>
                            <button class="navbar-toggler" type="button" data-toggle="collapse"
                                data-target="#navbarSupportedContent">
                                <span class="navbar-toggler-icon"></span>
                            </button>
                        </nav>
                    </div>
                </div>
            </div>
        </div>

        <div class="content-body">
            <div class="container-fluid">

                <div class="row">
                    <div class="col-xl-12" style="padding-top: 20px;padding-bottom: 20px;">
                        <div class="d-demo-wrap">
                            <div class="jctkr-label">
                                <strong>Newsfeed</strong>
                            </div>
                            <div class="js-conveyor-3">
                                
                            </div>

                        </div>

                    </div>
                    <div class="col-xl-12">
                        <div class="row">
                            <div class="col-xl-12">
                                <div class="country-datainfo">
                                    <div id="country_flag"></div>
                                    <h3 class="mb-0" id="country_name"></h3>
                                </div>
                            </div>
                            <div class="col-xl-6">
                                <div class="country-data">
                                    <div class="icon gradient-1">
                                        <i class="fas fa-virus"></i>
                                    </div>
                                    <div>
                                        <span>Total Cases</span>
                                        <h3 id="country_cases"></h3>
                                    </div>
                                </div>
                            </div>


                            <div class="col-xl-6">
                                <div class="country-data">
                                    <div class="icon gradient-3">
                                        <i class="fas fa-bell"></i>
                                    </div>
                                    <div>
                                        <span>Today Cases</span>
                                        <h3 id="country_todayCases"></h3>
                                    </div>
                                </div>
                            </div>


                            <div class="col-xl-6">
                                <div class="country-data">
                                    <div class="icon gradient-9">
                                        <i class="fas fa-procedures"></i>
                                    </div>
                                    <div>
                                        <span>Total Deaths</span>
                                        <h3 id="country_deaths"></h3>
                                    </div>
                                </div>
                            </div>


                            <div class="col-xl-6">
                                <div class="country-data">
                                    <div class="icon gradient-12">
                                        <i class="fas fa-bed"></i>
                                    </div>
                                    <div>
                                        <span>Today Deaths</span>
                                        <h3 id="country_todayDeaths"></h3>
                                    </div>
                                </div>
                            </div>


                            <div class="col-xl-6">
                                <div class="country-data">
                                    <div class="icon gradient-4">
                                        <i class="fas fa-child"></i>
                                    </div>
                                    <div>
                                        <span>Total Recovered</span>
                                        <h3 id="country_recovered"></h3>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xl-6">
                                <div class="country-data">
                                    <div class="icon gradient-4">
                                        <i class="fas fa-walking"></i>
                                    </div>
                                    <div>
                                        <span>Today Recovered</span>
                                        <h3 id="country_todayRecovered"></h3>
                                    </div>
                                </div>
                            </div>


                            <div class="col-xl-6">
                                <div class="country-data">
                                    <div class="icon gradient-15">
                                        <i class="fas fa-vial"></i>
                                    </div>
                                    <div>
                                        <span>Totatl Tests</span>
                                        <h3 id="country_tests"></h3>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-6">
                                <div class="country-data">
                                    <div class="icon gradient-15">
                                        <i class="fas fa-medkit"></i>
                                    </div>
                                    <div>
                                        <span>Today Tests</span>
                                        <h3 id="country_todayTests"></h3>
                                    </div>
                                </div>
                            </div>

                            <!-- <div class="col-xl-12">
                                <div class="country-data">
                                    <div class="icon gradient-8">
                                        <i class="fas fa-head-side-cough"></i>
                                    </div>
                                    <div>
                                        <span>Active</span>
                                        <h3 id="country_active"></h3>
                                    </div>
                                </div>
                            </div> -->
                        </div>
                    </div>

                    <div class="col-12">
                        <div class="mb-3 update-time">
                            <span class="stats-taken mr-2">Last Update: </span>
                            <strong id="stat-taken" class="text-primary"></strong>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xl-12">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title">World Status</h4>
                            </div>
                            <div class="card-body">
                                <div class="all-country table-responsive">
                                    <table id="world_table" class="table table-striped table-bordered">
                                        <thead>
                                            <tr>
                                                <th style="width:30px">Serial</th>
                                                <th>Flag</th>
                                                <th style="width:200px">Country</th>
                                                <th>Cases</th>
                                                <th>New Cases</th>
                                                <th>Deaths</th>
                                                <th>New Deaths</th>
                                                <th>Recovered</th>
                                                <th>Active</th>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <div class="footer">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-xl-12 col-md-6 text-lg-right">
                        <div class="social">
                            <a href="https://www.facebook.com/Anushilonssf"><i class="fab fa-facebook"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>






    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <script src="vendor/datatable/jquery.dataTables.min.js"></script>

    <script src="vendor/vectormap/jquery.vmap.min.js"></script>
    <script src="vendor/vectormap/maps/continents/jquery.vmap.asia.js"></script>
    <script>

        var numbers = {
            '0': '০',
            '1': '১',
            '2': '২',
            '3': '৩',
            '4': '৪',
            '5': '৫',
            '6': '৬',
            '7': '৭',
            '8': '৮',
            '9': '৯'
        };

        function replaceNumbers(input) {
            var output = [];
            for (var i = 0; i < input.length; ++i) {
                if (numbers.hasOwnProperty(input[i])) {
                    output.push(numbers[input[i]]);
                } else {
                    output.push(input[i]);
                }
            }
            return output.join('');
        }

        $(document).ready(function () {
            //console.log("DOM READY");

            $.ajax({
                url: 'data/news.json',
                dataType: 'json',
                success: function (news) {
                    var html;
                    html = '<ul>';
                    news.forEach(element => {
                        html += '<li> <span> <a href="';
                        html += element.url
                        html += '"> <span>';
                        html += element.heading;
                        html += '</span> </a> </li>';
                    });

                    html += '</ul>';

                    $('.js-conveyor-3').html(html);
                    $('.js-conveyor-3').jConveyorTicker({
                        reverse_elm: true
                    });


                }
            });



            $.ajax({
                url: 'data/bd.json',
                dataType: 'json',
                success: function (res) {
                    // console.log(res);

                    var flag = '<img src="' + res.flag + '"class="img-fluid mr-3" width="70">'
                    $('#country_name').html(res.country);
                    $('#country_flag').html(flag);
                    $('#country_cases').html(res.cases);
                    $('#country_todayCases').html(res.todayCases);
                    $('#country_deaths').html(res.deaths);
                    $('#country_todayDeaths').html(res.todayDeaths);
                    $('#country_recovered').html(res.recovered);
                    $('#country_todayRecovered').html(res.todayRecovered);
                    $('#country_tests').html(res.tests);
                    $('#country_todayTests').html(res.todayTests);
                    $('#stat-taken').html(res.updated);
                }
            });

            var table = $('#world_table').DataTable({
                "ajax": "data/data.json",
                "columns": [
                    { "data": null },
                    { "data": null },
                    { "data": "country" },
                    { "data": "cases" },
                    { "data": "todayCases" },
                    { "data": "deaths" },
                    { "data": "todayDeaths" },
                    { "data": "recovered" },
                    { "data": "active" }
                ],
                order: [[3, "desc"]],
                columnDefs: [
                    {
                        targets: 1,
                        render: function (data, type, row, meta) {
                            // console.log(data, type, row);
                            return '<img src="' + row.flag + '" width="30">'
                        }
                    },
                    {
                        targets: [0, 1],
                        searchable: false,
                        orderable: false
                    }
                ]
            });

            table.on('order.dt search.dt', function () {
                table.column(0, { search: 'applied', order: 'applied' }).nodes().each(function (cell, i) {
                    cell.innerHTML = i + 1;
                });
            }).draw();
        });
    </script>
    <script src="js/jquery.jConveyorTicker.min.js"></script>

    <script src="js/scripts.js"></script>

</body>

</html>